<div id="content" data-ng-controller="AnnotationLibraryCtrl">
    <h1>Annotation Library</h1>

    <div class="panel panel-default">
        <div class="panel-body">
            <form class="form-horizontal" role="form">
                <div class="form-group">
                    <label for="refLibraryTags" class="col-sm-1 control-label">Tags</label>

                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="refLibraryTags" placeholder="Tags"
                               ng-model="filterSettings.tagsPartial">
                    </div>
                </div>
                <div class="form-group">
                    <label for="refLibraryDuration" class="col-sm-1 control-label">Duration</label>

                    <div class="col-sm-2">
                        <input type="number" class="form-control" id="refLibraryDuration" placeholder="Duration"
                               ng-model="filterSettings.annotationDuration">
                    </div>

                    <label for="refLibraryFreqMin" class="col-sm-1 control-label">Min Frequency</label>

                    <div class="col-sm-2">
                        <input type="number" class="form-control" id="refLibraryFreqMin"
                               placeholder="Minimum Frequency" ng-model="filterSettings.freqMin">
                    </div>

                    <label for="refLibraryFreqMax" class="col-sm-1 control-label">Max Frequency</label>

                    <div class="col-sm-2">
                        <input type="number" class="form-control" id="refLibraryFreqMax"
                               placeholder="Maximum Frequency" ng-model="filterSettings.freqMax">
                    </div>
                </div>
                <div class="form-group">
                    <label for="refLibraryReference" class="col-sm-1 control-label">Annotations</label>

                    <div class="col-sm-3">
                        <label class="radio-inline">
                            <input type="radio" name="refLibraryReference" id="refLibraryReference1"
                                   value="" checked> No Restriction
                        </label>


                        <label class="radio-inline">
                            <input type="radio" name="refLibraryReference" id="refLibraryReference2"
                                   value="true" ng-value="filterSettings.reference"> Reference Only
                        </label>


                        <label class="radio-inline">
                            <input type="radio" name="refLibraryReference" id="refLibraryReference3"
                                   value="false" ng-value="filterSettings.reference"> Not Reference
                        </label>
                    </div>

                    <label for="refLibraryPage" class="col-sm-1 control-label">Page Number</label>

                    <div class="col-sm-1">
                        <input type="number" class="form-control" id="refLibraryPage" placeholder="Page"
                               ng-model="filterSettings.page">
                    </div>

                    <label for="refLibraryItems" class="col-sm-1 control-label">Items</label>

                    <div class="col-sm-1">
                        <input type="number" class="form-control" id="refLibraryItems" placeholder="Items"
                               ng-model="filterSettings.items">
                    </div>

                </div>
                <div class="form-group">
                    <div class="col-sm-offset-1 col-sm-10">
                        <button type="submit" class="btn btn-default" ng-click="setFilter()">Filter</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div ng-repeat="item in library">
        <div>
            <grid-lines></grid-lines>
            <img ng-src="{{item.media.availableImageFormats.png.url}}">
        </div>
        <a ng-href="/listen/{{item.audioRecordingId}}?start={{calcOffsetStart(item.startTimeSeconds)}}&end={{calcOffsetEnd(item.startTimeSeconds)}}">
            Annotation: <span ng-repeat="tag in item.tags">{{tag.text}}&nbsp;&nbsp;</span><br>
        </a>
        <audio controls>
            <source ng-repeat="resource in item.media.availableAudioFormats" ng-src="{{resource.url}}" src=""
                    type="{{resource.mimeType}}">
            Your browser does not support the audio element.
        </audio>
    </div>


</div>